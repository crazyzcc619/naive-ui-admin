var Q=Object.defineProperty;var y=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var w=(a,n,o)=>n in a?Q(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o,F=(a,n)=>{for(var o in n||(n={}))W.call(n,o)&&w(a,o,n[o]);if(y)for(var o of y(n))X.call(n,o)&&w(a,o,n[o]);return a};var C=(a,n,o)=>new Promise((B,m)=>{var p=c=>{try{d(o.next(c))}catch(i){m(i)}},f=c=>{try{d(o.throw(c))}catch(i){m(i)}},d=c=>c.done?B(c.value):Promise.resolve(c.value).then(p,f);d((o=o.apply(a,n)).next())});import{T as Y,B as H}from"./TableAction.c83c7f09.js";import{B as J}from"./BasicForm.8a1244d5.js";import{u as Z}from"./useForm.2c122be2.js";import{g as ee}from"./list.0dde5a99.js";import{s as D,a3 as ue,d as oe,Q as te,e as _,a5 as ne,i as A,o as le,a0 as ae,Y as t,X as u,u as s,bP as se,bj as g,a4 as ie,_ as re,ai as ce,ak as de,aL as pe,aj as me,aw as _e,b3 as fe,aA as be}from"./vendor.21d60ab8.js";import"./sortable.esm.81321d43.js";import"./useDesignSetting.9b7d21a8.js";import"./index.8d035c2e.js";import"./propTypes.13e00d90.js";import"./componentSetting.df76d574.js";import"./index.esm.82824a3c.js";const Fe=[{title:"id",key:"id",width:100},{title:"\u540D\u79F0",key:"name",width:100},{title:"\u5934\u50CF",key:"avatar",width:100,render(a){return D(ue,{size:48,src:a.avatar})}},{title:"\u5730\u5740",key:"address",auth:["basic_list"],ifShow:a=>!0,width:150},{title:"\u5F00\u59CB\u65E5\u671F",key:"beginTime",width:160},{title:"\u7ED3\u675F\u65E5\u671F",key:"endTime",width:160},{title:"\u521B\u5EFA\u65F6\u95F4",key:"date",width:100}],ge=g(" \u65B0\u5EFA "),Be=g("\u5237\u65B0\u6570\u636E"),he=g("\u53D6\u6D88"),ve=g("\u786E\u5B9A"),Re=oe({setup(a){const n={name:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u540D\u79F0"},address:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u5730\u5740"},date:{type:"number",required:!0,trigger:["blur","change"],message:"\u8BF7\u9009\u62E9\u65E5\u671F"}},o=[{field:"name",labelMessage:"\u8FD9\u662F\u4E00\u4E2A\u63D0\u793A",component:"NInput",label:"\u59D3\u540D",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"\u624B\u673A",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"\u7C7B\u578B",componentProps:{placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",options:[{label:"\u8212\u9002\u6027",value:1},{label:"\u7ECF\u6D4E\u6027",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"\u9884\u7EA6\u65F6\u95F4",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"\u505C\u7559\u65F6\u95F4",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"\u72B6\u6001",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"\u9884\u7EA6\u9879\u76EE",componentProps:{placeholder:"\u8BF7\u9009\u62E9\u9884\u7EA6\u9879\u76EE",options:[{label:"\u79CD\u7259",value:1},{label:"\u8865\u7259",value:2},{label:"\u6839\u7BA1",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"\u6765\u6E90",componentProps:{options:[{label:"\u7F51\u4E0A",value:1},{label:"\u95E8\u5E97",value:2}],onUpdateChecked:e=>{console.log(e)}}}],B=te(),m=_(null),p=ne(),f=_(),d=_(!1),c=_(!1),i=A({name:"",address:"",date:null}),T=_({pageSize:5,name:"xiaoMa"}),j=A({width:220,title:"\u64CD\u4F5C",key:"action",fixed:"right",render(e){return D(Y,{style:"button",actions:[{label:"\u5220\u9664",icon:"ic:outline-delete-outline",onClick:V.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"\u7F16\u8F91",onClick:N.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"\u542F\u7528",key:"enabled",ifShow:()=>!0},{label:"\u7981\u7528",key:"disabled",ifShow:()=>!0}],select:l=>{p.info(`\u60A8\u70B9\u51FB\u4E86\uFF0C${l} \u6309\u94AE`)}})}}),[P,{}]=Z({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:o});function S(){d.value=!0}const x=e=>C(this,null,function*(){return yield ee(F(F(F({},i),T.value),e))});function R(e){console.log(e)}function h(){f.value.reload()}function U(e){e.preventDefault(),c.value=!0,m.value.validate(l=>{l?p.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F"):(p.success("\u65B0\u5EFA\u6210\u529F"),setTimeout(()=>{d.value=!1,h()})),c.value=!1})}function N(e){console.log("\u70B9\u51FB\u4E86\u7F16\u8F91",e),B.push({name:"basic-info",params:{id:e.id}})}function V(e){console.log("\u70B9\u51FB\u4E86\u5220\u9664",e),p.info("\u70B9\u51FB\u4E86\u5220\u9664")}function q(e){console.log(e),h()}function $(e){console.log(e)}return(e,l)=>{const v=ie,I=re,b=ce,E=de,M=pe,L=me,z=_e,G=fe,K=be;return le(),ae(K,{bordered:!1,class:"proCard"},{default:t(()=>[u(s(J),{onRegister:s(P),onSubmit:q,onReset:$},{statusSlot:t(({model:r,field:k})=>[u(v,{value:r[k],"onUpdate:value":O=>r[k]=O},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"]),u(s(H),{columns:s(Fe),request:x,"row-key":r=>r.id,ref_key:"actionRef",ref:f,actionColumn:s(j),"onUpdate:checkedRowKeys":R,"scroll-x":1090},{tableTitle:t(()=>[u(b,{type:"primary",onClick:S},{icon:t(()=>[u(I,null,{default:t(()=>[u(s(se))]),_:1})]),default:t(()=>[ge]),_:1})]),toolbar:t(()=>[u(b,{type:"primary",onClick:h},{default:t(()=>[Be]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),u(G,{show:d.value,"onUpdate:show":l[4]||(l[4]=r=>d.value=r),"show-icon":!1,preset:"dialog",title:"\u65B0\u5EFA"},{action:t(()=>[u(z,null,{default:t(()=>[u(b,{onClick:l[3]||(l[3]=()=>d.value=!1)},{default:t(()=>[he]),_:1}),u(b,{type:"info",loading:c.value,onClick:U},{default:t(()=>[ve]),_:1},8,["loading"])]),_:1})]),default:t(()=>[u(L,{model:s(i),rules:n,ref_key:"formRef",ref:m,"label-placement":"left","label-width":80,class:"py-4"},{default:t(()=>[u(E,{label:"\u540D\u79F0",path:"name"},{default:t(()=>[u(v,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",value:s(i).name,"onUpdate:value":l[0]||(l[0]=r=>s(i).name=r)},null,8,["value"])]),_:1}),u(E,{label:"\u5730\u5740",path:"address"},{default:t(()=>[u(v,{type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",value:s(i).address,"onUpdate:value":l[1]||(l[1]=r=>s(i).address=r)},null,8,["value"])]),_:1}),u(E,{label:"\u65E5\u671F",path:"date"},{default:t(()=>[u(M,{type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",value:s(i).date,"onUpdate:value":l[2]||(l[2]=r=>s(i).date=r)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})}}});export{Re as default};
